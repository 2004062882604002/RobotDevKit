cmake_minimum_required(VERSION 3.10)

add_library(rdk_core src/transfer/crc.cpp src/transfer/circular_buffer.cpp src/transfer/io_stream.cpp src/transfer/serial_port.cpp src/transfer/simple_message_transfer.cpp)
target_include_directories(rdk_core PRIVATE include)


add_executable(test_serial_port test/test_serial_port.cpp)
target_include_directories(test_serial_port PRIVATE include)
target_link_libraries(test_serial_port rdk_core)

add_executable(test_simple_message_transfer test/test_simple_message_transfer.cpp)
target_include_directories(test_simple_message_transfer PRIVATE include)
target_link_libraries(test_simple_message_transfer rdk_core)

add_executable(test_simple_message_transfer_with_stm32 test/test_simple_message_transfer_with_stm32.cpp)
target_include_directories(test_simple_message_transfer_with_stm32 PRIVATE include)
target_link_libraries(test_simple_message_transfer_with_stm32 rdk_core)
